<%- include('partials/header', { title: 'All Bookings' }) %>

<div class="container">
  <h1>All Bookings</h1>
  
  <% if (bookings.length === 0) { %>
    <p class="no-events">No bookings yet.</p>
  <% } else { %>
    <div class="bookings-table">
      <table>
        <thead>
          <tr>
            <th>When Booked</th>
            <th>Event</th>
            <th>Ticket Type</th>
            <th>Quantity</th>
            <th>Buyer Name</th>
            <th>Total Cost</th>
          </tr>
        </thead>
        <tbody>
          <% bookings.forEach(booking => { %>
            <tr>
              <td><%= new Date(booking.booked_at).toLocaleString() %></td>
              <td><%= booking.event_title %></td>
              <td><%= booking.ticket_type === 'full' ? 'Full Price' : 'Concession' %></td>
              <td><%= booking.qty %></td>
              <td><%= booking.buyer_name %></td>
              <td>£<%= booking.total_cost.toFixed(2) %></td>
            </tr>
          <% }) %>
        </tbody>
      </table>
    </div>
  <% } %>
  
  <div class="back-action">
    <a href="/organiser" class="btn btn-secondary">← Back to Organiser Home</a>
  </div>
</div>

<style>
.bookings-table {
  background: white;
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0,0,0,0.1);
  overflow-x: auto;
  margin-bottom: 2rem;
}

.bookings-table table {
  width: 100%;
  border-collapse: collapse;
}

.bookings-table th,
.bookings-table td {
  padding: 12px;
  text-align: left;
  border-bottom: 1px solid #dee2e6;
}

.bookings-table th {
  background: #f8f9fa;
  font-weight: 600;
  color: #495057;
}

.bookings-table tr:hover {
  background: #f8f9fa;
}

.back-action {
  margin-top: 2rem;
}
</style>

<%- include('partials/footer') %>